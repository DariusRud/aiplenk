<!DOCTYPE html>
<html lang="lt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIPLENK - Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        }
        
        .sidebar {
            background: linear-gradient(180deg, #ffffff 0%, #fafafa 100%);
            border-right: 1px solid #e2e8f0;
        }
        
        .nav-link {
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        
        .nav-link::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 3px;
            background: #6366f1;
            transform: scaleY(0);
            transition: transform 0.2s ease;
        }
        
        .nav-link.active::before {
            transform: scaleY(1);
        }
        
        .card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(15, 23, 42, 0.08);
            transition: all 0.2s ease;
            border: 1px solid rgba(226, 232, 240, 0.8);
        }
        
        .card:hover {
            box-shadow: 0 4px 12px rgba(15, 23, 42, 0.12);
        }
        
        .alert-card {
            transition: all 0.2s ease;
            cursor: pointer;
        }
        
        .alert-card:hover {
            transform: translateX(4px);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.1);
        }
        
        .stat-mini {
            background: white;
            border-radius: 10px;
            box-shadow: 0 1px 3px rgba(15, 23, 42, 0.08);
            transition: all 0.25s ease;
            border: 1px solid rgba(226, 232, 240, 0.8);
        }
        
        .stat-mini:hover {
            box-shadow: 0 6px 16px rgba(15, 23, 42, 0.1);
            transform: translateY(-2px);
        }
        
        .quick-action {
            transition: all 0.2s ease;
        }
        
        .quick-action:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(99, 102, 241, 0.2);
        }
        
        .badge {
            display: inline-flex;
            align-items: center;
            gap: 0.375rem;
            padding: 0.25rem 0.75rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .badge-urgent {
            background: linear-gradient(135deg, #fecaca 0%, #fca5a5 100%);
            color: #991b1b;
        }
        
        .badge-warning {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            color: #92400e;
        }
        
        .badge-info {
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
            color: #1e40af;
        }
        
        .time-display {
            font-variant-numeric: tabular-nums;
        }
    </style>
</head>
<body class="h-screen overflow-hidden" x-data="aiplenkApp()">
    
    <div class="flex h-screen">
        <!-- Šoninis meniu -->
        <nav class="w-64 sidebar flex flex-col">
            <div class="p-6">
                <div class="flex items-center gap-2 mb-6">
                    <div class="w-10 h-10 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-xl flex items-center justify-center">
                        <span class="text-white font-bold text-sm">AI</span>
                    </div>
                    <div>
                        <span class="text-xl font-semibold text-slate-800 block leading-none">AIPLENK</span>
                        <span class="text-xs text-slate-500">v1.0.0</span>
                    </div>
                </div>
            </div>
            
            <ul class="flex-grow px-3 space-y-1">
                <li>
                    <a @click.prevent="currentView = 'dashboard'" href="#" 
                       class="nav-link flex items-center px-4 py-3 text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-lg" 
                       :class="{ 'active bg-indigo-50 text-indigo-700 font-medium': currentView === 'dashboard' }">
                        <i class="fas fa-home w-5 mr-3 text-base"></i>
                        <span>Darbalaukis</span>
                    </a>
                </li>
                
                <li class="pt-4 pb-2 px-4">
                    <span class="text-xs font-semibold text-slate-400 uppercase tracking-wider">Dokumentai</span>
                </li>
                
                <li>
                    <a @click.prevent="currentView = 'purchase-invoices'" href="#" 
                       class="nav-link flex items-center px-4 py-3 text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-lg" 
                       :class="{ 'active bg-indigo-50 text-indigo-700 font-medium': currentView === 'purchase-invoices' }">
                        <i class="fas fa-file-invoice w-5 mr-3 text-base"></i>
                        <span>Pirkimo Sąskaitos</span>
                        <span class="ml-auto bg-red-500 text-white text-xs px-2 py-0.5 rounded-full" x-show="stats.needsReview > 0" x-text="stats.needsReview"></span>
                    </a>
                </li>
                
                <li>
                    <a @click.prevent="currentView = 'sales-invoices'" href="#" 
                       class="nav-link flex items-center px-4 py-3 text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-lg" 
                       :class="{ 'active bg-indigo-50 text-indigo-700 font-medium': currentView === 'sales-invoices' }">
                        <i class="fas fa-receipt w-5 mr-3 text-base"></i>
                        <span>Pardavimo Sąskaitos</span>
                    </a>
                </li>
                
                <li class="pt-4 pb-2 px-4">
                    <span class="text-xs font-semibold text-slate-400 uppercase tracking-wider">Sistema</span>
                </li>
                
                <li>
                    <a @click.prevent="currentView = 'companies'" href="#" 
                       class="nav-link flex items-center px-4 py-3 text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-lg" 
                       :class="{ 'active bg-indigo-50 text-indigo-700 font-medium': currentView === 'companies' }">
                        <i class="fas fa-building w-5 mr-3 text-base"></i>
                        <span>Įmonės</span>
                    </a>
                </li>
                
                <li>
                    <a @click.prevent="currentView = 'products'" href="#" 
                       class="nav-link flex items-center px-4 py-3 text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-lg" 
                       :class="{ 'active bg-indigo-50 text-indigo-700 font-medium': currentView === 'products' }">
                        <i class="fas fa-boxes w-5 mr-3 text-base"></i>
                        <span>Prekių Medis</span>
                    </a>
                </li>
                
                <li>
                    <a @click.prevent="currentView = 'export'" href="#" 
                       class="nav-link flex items-center px-4 py-3 text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-lg" 
                       :class="{ 'active bg-indigo-50 text-indigo-700 font-medium': currentView === 'export' }">
                        <i class="fas fa-file-export w-5 mr-3 text-base"></i>
                        <span>Eksportai</span>
                    </a>
                </li>
                
                <li>
                    <a @click.prevent="currentView = 'reports'" href="#" 
                       class="nav-link flex items-center px-4 py-3 text-slate-600 hover:text-slate-900 hover:bg-slate-50 rounded-lg" 
                       :class="{ 'active bg-indigo-50 text-indigo-700 font-medium': currentView === 'reports' }">
                        <i class="fas fa-chart-bar w-5 mr-3 text-base"></i>
                        <span>Ataskaitos</span>
                    </a>
                </li>
            </ul>
            
            <div class="p-4 border-t border-slate-200">
                <div class="flex items-center gap-3 px-2 py-2 hover:bg-slate-50 rounded-lg cursor-pointer transition-colors">
                    <div class="w-9 h-9 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-lg flex items-center justify-center text-white font-semibold text-sm">
                        MP
                    </div>
                    <div class="flex-1 min-w-0">
                        <div class="text-sm font-medium text-slate-700 truncate">Mantas Petraitis</div>
                        <div class="text-xs text-slate-500">Administrator</div>
                    </div>
                    <i class="fas fa-sign-out-alt text-slate-400 hover:text-red-500 transition-colors"></i>
                </div>
            </div>
        </nav>

        <!-- Pagrindinis turinys -->
        <main class="flex-1 overflow-y-auto">
            <div class="max-w-7xl mx-auto p-8">
                
                <!-- Viršutinė juosta -->
                <div class="flex justify-between items-start mb-8">
                    <div>
                        <h1 class="text-3xl font-bold text-slate-800 mb-1">Darbalaukis</h1>
                        <p class="text-slate-500 time-display" x-text="currentDate"></p>
                    </div>
                    <div class="flex gap-3">
                        <button class="px-4 py-2 bg-white border border-slate-200 rounded-lg hover:bg-slate-50 transition-colors flex items-center gap-2">
                            <i class="fas fa-bell text-slate-600"></i>
                            <span class="text-sm font-medium text-slate-700">Pranešimai</span>
                            <span class="bg-red-500 text-white text-xs px-1.5 py-0.5 rounded-full">3</span>
                        </button>
                        <button @click="showUploadModal = true" class="px-5 py-2 bg-gradient-to-r from-indigo-600 to-indigo-500 text-white rounded-lg hover:from-indigo-700 hover:to-indigo-600 transition-all shadow-sm flex items-center gap-2 quick-action">
                            <i class="fas fa-plus text-sm"></i>
                            <span class="font-medium">Įkelti Sąskaitą</span>
                        </button>
                    </div>
                </div>

                <!-- REIKIA DĖMESIO sekcija -->
                <div class="mb-8">
                    <div class="flex items-center gap-2 mb-4">
                        <i class="fas fa-exclamation-triangle text-red-500"></i>
                        <h2 class="text-xl font-semibold text-slate-800">Reikia Dėmesio</h2>
                    </div>
                    
                    <div class="space-y-3">
                        <!-- Alert 1 -->
                        <div class="alert-card card p-4 border-l-4 border-red-500">
                            <div class="flex items-center justify-between">
                                <div class="flex-1">
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="badge badge-urgent">
                                            <i class="fas fa-circle text-xs"></i>
                                            Skubu
                                        </span>
                                        <span class="text-sm font-semibold text-slate-800">5 sąskaitos laukia peržiūros</span>
                                    </div>
                                    <p class="text-sm text-slate-600">Sąskaitos su neatpažintomis arba nepatvirtintomis eilutėmis</p>
                                </div>
                                <button @click="currentView = 'purchase-invoices'" class="px-4 py-2 bg-red-50 text-red-700 rounded-lg hover:bg-red-100 transition-colors font-medium text-sm">
                                    Peržiūrėti →
                                </button>
                            </div>
                        </div>

                        <!-- Alert 2 -->
                        <div class="alert-card card p-4 border-l-4 border-amber-500">
                            <div class="flex items-center justify-between">
                                <div class="flex-1">
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="badge badge-warning">
                                            <i class="fas fa-circle text-xs"></i>
                                            Įspėjimas
                                        </span>
                                        <span class="text-sm font-semibold text-slate-800">12 neatpažintų prekių eilučių</span>
                                    </div>
                                    <p class="text-sm text-slate-600">Reikalingas rankinis susiejimas su prekių katalogu</p>
                                </div>
                                <button class="px-4 py-2 bg-amber-50 text-amber-700 rounded-lg hover:bg-amber-100 transition-colors font-medium text-sm">
                                    Valdyti →
                                </button>
                            </div>
                        </div>

                        <!-- Alert 3 -->
                        <div class="alert-card card p-4 border-l-4 border-blue-500">
                            <div class="flex items-center justify-between">
                                <div class="flex-1">
                                    <div class="flex items-center gap-3 mb-2">
                                        <span class="badge badge-info">
                                            <i class="fas fa-circle text-xs"></i>
                                            Info
                                        </span>
                                        <span class="text-sm font-semibold text-slate-800">3 tiekėjai su pakartotinėmis klaidomis</span>
                                    </div>
                                    <p class="text-sm text-slate-600">UAB "StatybÅ³ Partneris", UAB "NeÅ¾inomi Ä®rankiai", UAB "Tvirtas VarÅ¾tas"</p>
                                </div>
                                <button class="px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-medium text-sm">
                                    Analizuoti →
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ŠIANDIEN statistika -->
                <div class="mb-8">
                    <h2 class="text-xl font-semibold text-slate-800 mb-4">Šiandien</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div class="stat-mini p-5">
                            <div class="flex items-center justify-between mb-3">
                                <div class="w-10 h-10 bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-upload text-blue-600"></i>
                                </div>
                                <span class="text-xs font-medium text-slate-500 uppercase tracking-wide">Įkelta</span>
                            </div>
                            <p class="text-3xl font-bold text-slate-800 mb-1" x-text="stats.todayUploaded"></p>
                            <p class="text-xs text-slate-500">sąskaitos šiandien</p>
                        </div>

                        <div class="stat-mini p-5">
                            <div class="flex items-center justify-between mb-3">
                                <div class="w-10 h-10 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-check-circle text-emerald-600"></i>
                                </div>
                                <span class="text-xs font-medium text-slate-500 uppercase tracking-wide">Validuota</span>
                            </div>
                            <p class="text-3xl font-bold text-slate-800 mb-1" x-text="stats.todayValidated"></p>
                            <p class="text-xs text-slate-500">sąskaitos šiandien</p>
                        </div>

                        <div class="stat-mini p-5">
                            <div class="flex items-center justify-between mb-3">
                                <div class="w-10 h-10 bg-gradient-to-br from-purple-50 to-purple-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-download text-purple-600"></i>
                                </div>
                                <span class="text-xs font-medium text-slate-500 uppercase tracking-wide">Eksportuota</span>
                            </div>
                            <p class="text-3xl font-bold text-slate-800 mb-1" x-text="stats.todayExported"></p>
                            <p class="text-xs text-slate-500">įrašai šiandien</p>
                        </div>

                        <div class="stat-mini p-5">
                            <div class="flex items-center justify-between mb-3">
                                <div class="w-10 h-10 bg-gradient-to-br from-amber-50 to-amber-100 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-pencil-alt text-amber-600"></i>
                                </div>
                                <span class="text-xs font-medium text-slate-500 uppercase tracking-wide">Korekcijos</span>
                            </div>
                            <p class="text-3xl font-bold text-slate-800 mb-1" x-text="stats.todayCorrections"></p>
                            <p class="text-xs text-slate-500">pakeitimai šiandien</p>
                        </div>
                    </div>
                </div>

                <!-- GREITI VEIKSMAI -->
                <div class="mb-8">
                    <h2 class="text-xl font-semibold text-slate-800 mb-4">Greiti Veiksmai</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <button @click="showUploadModal = true" class="card p-6 text-left hover:shadow-lg transition-all group">
                            <div class="w-12 h-12 bg-gradient-to-br from-indigo-50 to-indigo-100 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                                <i class="fas fa-upload text-indigo-600 text-xl"></i>
                            </div>
                            <h3 class="text-lg font-semibold text-slate-800 mb-2">Įkelti Sąskaitą</h3>
                            <p class="text-sm text-slate-600">Įkelkite naują pirkimo ar pardavimo sąskaitą</p>
                        </button>

                        <button @click="currentView = 'export'" class="card p-6 text-left hover:shadow-lg transition-all group">
                            <div class="w-12 h-12 bg-gradient-to-br from-emerald-50 to-emerald-100 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                                <i class="fas fa-file-export text-emerald-600 text-xl"></i>
                            </div>
                            <h3 class="text-lg font-semibold text-slate-800 mb-2">Eksportuoti Duomenis</h3>
                            <p class="text-sm text-slate-600">Eksportuokite validuotas sąskaitas</p>
                        </button>

                        <button @click="currentView = 'reports'" class="card p-6 text-left hover:shadow-lg transition-all group">
                            <div class="w-12 h-12 bg-gradient-to-br from-purple-50 to-purple-100 rounded-xl flex items-center justify-center mb-4 group-hover:scale-110 transition-transform">
                                <i class="fas fa-chart-line text-purple-600 text-xl"></i>
                            </div>
                            <h3 class="text-lg font-semibold text-slate-800 mb-2">Peržiūrėti Ataskaitas</h3>
                            <p class="text-sm text-slate-600">Analizuokite duomenis ir tendencijas</p>
                        </button>
                    </div>
                </div>

                <!-- NAUJIENŲ/AKTYVUMO feed -->
                <div>
                    <h2 class="text-xl font-semibold text-slate-800 mb-4">Paskutinė Veikla</h2>
                    
                    <div class="card p-6">
                        <div class="space-y-4">
                            <div class="flex gap-4 pb-4 border-b border-slate-100 last:border-0 last:pb-0">
                                <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-check text-green-600"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm font-medium text-slate-800">Sąskaita TV-843 validuota</p>
                                    <p class="text-xs text-slate-500">Prieš 5 minutes · Mantas Petraitis</p>
                                </div>
                            </div>

                            <div class="flex gap-4 pb-4 border-b border-slate-100 last:border-0 last:pb-0">
                                <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-upload text-blue-600"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm font-medium text-slate-800">Įkelta 3 naujos sąskaitos</p>
                                    <p class="text-xs text-slate-500">Prieš 15 minučių · Sistema</p>
                                </div>
                            </div>

                            <div class="flex gap-4 pb-4 border-b border-slate-100 last:border-0 last:pb-0">
                                <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-download text-purple-600"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm font-medium text-slate-800">Eksportuota 12 sąskaitų į Rivilės sistemą</p>
                                    <p class="text-xs text-slate-500">Prieš 1 valandą · Mantas Petraitis</p>
                                </div>
                            </div>

                            <div class="flex gap-4">
                                <div class="w-10 h-10 bg-amber-100 rounded-lg flex items-center justify-center flex-shrink-0">
                                    <i class="fas fa-link text-amber-600"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="text-sm font-medium text-slate-800">5 prekės susietos rankiniu būdu</p>
                                    <p class="text-xs text-slate-500">Prieš 2 valandas · Mantas Petraitis</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <!-- Upload Modal (placeholder) -->
    <div x-show="showUploadModal" 
         class="fixed inset-0 z-50 overflow-y-auto bg-slate-900/50 backdrop-blur-sm flex items-center justify-center p-4" 
         style="display: none;"
         @click.self="showUploadModal = false">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-lg p-8" x-show="showUploadModal"
             x-transition:enter="transition ease-out duration-200"
             x-transition:enter-start="opacity-0 scale-95"
             x-transition:enter-end="opacity-100 scale-100">
            <h3 class="text-2xl font-semibold text-slate-800 mb-4">Įkelti Sąskaitą</h3>
            <p class="text-slate-600 mb-6">Funkcionalumas bus pridėtas vėliau...</p>
            <button @click="showUploadModal = false" class="w-full px-4 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium">
                Uždaryti
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('aiplenkApp', () => ({
                currentView: 'dashboard',
                showUploadModal: false,
                currentDate: '',
                
                stats: {
                    needsReview: 5,
                    todayUploaded: 8,
                    todayValidated: 12,
                    todayExported: 15,
                    todayCorrections: 23
                },
                
                init() {
                    this.updateDate();
                    setInterval(() => this.updateDate(), 60000);
                },
                
                updateDate() {
                    const now = new Date();
                    this.currentDate = now.toLocaleDateString('lt-LT', {
                        weekday: 'long',
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric'
                    });
                }
            }));
        });
    </script>
</body>
</html>
